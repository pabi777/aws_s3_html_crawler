# AwsS3Recrawler

* This project recrawls the data of html files from AwsS3 and if any error occurs during fetch, it logs that in awsS3DEBUG.log

## Requirements:

    * Python3
        * External python3 packages
            * boto3
            * pathlib
            * lxml
            * requests
            * re
            * json
            * mysql
            * pprint
            * ast
            * logging
    * MySQL Workbench
    * Aws credentials (place the .aws folder in home directory)

## How to run?
    * Install the requirements
    * insert a row in premonition database with matching the following condition.
        * Database fields:
            * id => Autogenerated
            * where_condition => only condition, for which the results will be crawled 
            * config
                * Example
                        * {
                            "condition": "update linkedin_contacts set title where title='' ",
                            "fieldname": "title",
                            "xpath": "//h2[@class='pv-top-card-section__headline mt1 t-18 t-black t-normal']"
                        }
                        * condition: Enter the requried query(not neseserry)
                        * enter the database fieldname for which you want to update by crawl
                        * the xpath, which will fetch the data from downloaded html file

            * active=> see below
            * status=> see below
            * priority => set it high to crawl the data.
            * start_date => the datetime when it beigens to crawl
            * end_date => the datetime when it stops the crawl
            * exceptions => if crawling stops due to an exception , that exception will be shown here
            +----------------------------------------------------------+
            | active | status |               activity                 |
            +--------+--------+----------------------------------------+
            |   0    |   0    |             won't do anything          |
            |   1    |   1    |         will take for crawling         |
            |   1    |   2    |             crawl is running           |
            |   0    |   3    |crawl is successfull for that condition |
            |   0    |   4    |crawl is unsucessfull for that condition|
            ------------------------------------------------------------
    * Go to the project folder
    * Open terminal in current location
    * Run python3 main.py 
    




